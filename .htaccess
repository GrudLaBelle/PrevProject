RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ public/index.php?route=$1 [QSA,L]
RewriteRule index.php public/index.php?route=/ [QSA,L]